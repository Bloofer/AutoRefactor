private boolean initFSPWatProcess( FspWatPolicyXmlServiceID fspWatPolicyXmlServiceID, String message, HttpServletRequest request, String dsdCode, String userId ) {
		
		try {

			Document document = XMLUtil.createDocument( message );

			Element domainElement = XMLUtil.getElement( document, "DOMAIN" );
			String domainCode = dsdCode;
			String domainName = XMLUtil.getElementString( domainElement, "NAME" );

			String userID = userId;

			String machineInfo = XMLUtil.getElementString( document, "MACHINEINFO" );

			if( domainCode != null ) {
				fspWatPolicyXmlServiceID.setDsdCode( domainCode );
			}
			if( domainName != null ) {
				fspWatPolicyXmlServiceID.setDsdName( domainName );
			}
			if( machineInfo != null ) {
				fspWatPolicyXmlServiceID.setMachineInfo( machineInfo );
			}
			if( userID != null ) {
				fspWatPolicyXmlServiceID.setUserID( userID );
			}

			// 도메인이름만 있는 경우에 도메인코드 검색
			if( fspWatPolicyXmlServiceID.getDsdCode() == null && fspWatPolicyXmlServiceID.getDsdName() != null ) {
				ProductLicenseManager productLicenseManager = ProductLicenseManager.getInstance();
				domainCode = productLicenseManager.getDSDCode( fspWatPolicyXmlServiceID.getDsdName() );

				if( domainCode == null ) {
					fspWatPolicyXmlServiceID.setMessageID( "error.NOT_FOUND_DOMAIN" );
					logger.errorString( "error.NOT_FOUND_DOMAIN DomainName", fspWatPolicyXmlServiceID.getDsdName() );
				} else {
					fspWatPolicyXmlServiceID.setDsdCode( domainCode );
				}
			}

			// 도메인코드만 있는 경우에 도메인명 검색
			if( fspWatPolicyXmlServiceID.getDsdCode() != null && ( fspWatPolicyXmlServiceID.getDsdName() != null && "".equals( fspWatPolicyXmlServiceID.getDsdName() ) ) ) {
				ProductLicenseManager productLicenseManager = ProductLicenseManager.getInstance();
				domainName = productLicenseManager.getDSDName( fspWatPolicyXmlServiceID.getDsdCode() );

				if( domainName == null ) {
					fspWatPolicyXmlServiceID.setMessageID( "error.NOT_FOUND_DOMAIN" );
					logger.errorString( "error.NOT_FOUND_DOMAIN DomainCode", fspWatPolicyXmlServiceID.getDsdCode() );
				} else {
					fspWatPolicyXmlServiceID.setDsdName( domainName );
				}
			}

			// 도메인코드가 없는 경우 오류
			if( fspWatPolicyXmlServiceID.getDsdCode() == null ) {
				fspWatPolicyXmlServiceID.setMessageID( "error.NOT_FOUND_DOMAIN" );
				logger.errorString( "error.NOT_FOUND_DOMAIN" );
			}

			if( fspWatPolicyXmlServiceID.getMessageID() != null && !"OK".equals( fspWatPolicyXmlServiceID.getMessageID() ) ) {
				return false;
			}
			
			fspWatPolicyXmlServiceID.setClientIP( request.getRemoteAddr() );

		} catch( Exception e ) {

			fspWatPolicyXmlServiceID.setMessageID( "error.CLIENTMESSAGE_PARSE_FAIL" );

			logger.errorString( "ClientMessage", message );
			logger.errorString("initProcess",e.toString());
			logger.trace( "initProcess", e );
		}

		return true;
		
	}
